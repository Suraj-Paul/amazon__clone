(this.webpackJsonpamazon__clone=this.webpackJsonpamazon__clone||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(46),l=a.n(r),i=(a(60),a(47)),s=a(3),m=(a(61),a(62),a(49)),o=a.n(m),u=a(51),p=a.n(u),d=a(11),E=Object(n.createContext)(),g=function(e){var t=e.reducer,a=e.initialState,r=e.children;return c.a.createElement(E.Provider,{value:Object(n.useReducer)(t,a)},r)},_=function(){return Object(n.useContext)(E)},h=a(30),v=a.n(h),f=(v.a.initializeApp({apiKey:"AIzaSyCjmNS32u27iy-QJqKw_8QMu3LY3BrEzTU",authDomain:"clone-68909.firebaseapp.com",databaseURL:"https://clone-68909.firebaseio.com",projectId:"clone-68909",storageBucket:"clone-68909.appspot.com",messagingSenderId:"157564644236",appId:"1:157564644236:web:b1fcbbf4a44340a924c4a9",measurementId:"G-N1CDVPEHRL"}).firestore(),v.a.auth());var b=function(){var e=_(),t=Object(s.a)(e,2),a=t[0],n=a.basket,r=a.user;return t[1],c.a.createElement("div",{className:"header"},c.a.createElement(d.b,{to:"/"},c.a.createElement("img",{className:"header__logo",src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png"})),c.a.createElement("div",{className:"header__search"},c.a.createElement("input",{classNmae:"header__searchInput",type:"text"}),c.a.createElement(o.a,{className:"header__searchIcon"})),c.a.createElement("div",{className:"header__nav"},c.a.createElement(d.b,{to:!r&&"/login"},c.a.createElement("div",{onClick:function(){r&&f.signOut()},className:"header__component"},c.a.createElement("span",{className:"header__component1__user"},"Hello ",r?r.email:"Guest"),c.a.createElement("span",{className:"header__component2"},r?"Sign Out":"Sign In"))),c.a.createElement("div",{className:"header__component"},c.a.createElement("span",{className:"header__component1"},"Returns"),c.a.createElement("span",{className:"header__component2"},"& Orders")),c.a.createElement("div",{className:"header__component"},c.a.createElement("span",{className:"header__component1"},"Your"),c.a.createElement("span",{className:"header__component2"},"Prime")),c.a.createElement(d.b,{to:"checkout"},c.a.createElement("div",{className:"header__componentBasket"},c.a.createElement(p.a,null),c.a.createElement("span",{className:"header__component2 header__basketCount"},null===n||void 0===n?void 0:n.length)))))};a(82),a(83);var N=function(e){var t=e.id,a=e.title,n=e.image,r=e.price,l=e.rating,i=_(),m=Object(s.a)(i,2),o=m[0].basket,u=m[1];return console.log("items in basket---\x3e",o),c.a.createElement("div",{className:"product"},c.a.createElement("div",{className:"product__info"},c.a.createElement("p",null,a),c.a.createElement("p",{className:"product__price"},c.a.createElement("small",null,"\u20b9"),c.a.createElement("strong",null,r)),c.a.createElement("div",{className:"product__rating"},Array(l).fill().map((function(e,t){return c.a.createElement("p",null,"\u2b50\ufe0f")})))),c.a.createElement("img",{className:"AddToBasket",src:n}),c.a.createElement("button",{onClick:function(){u({type:"ADD_TO_BASKET",item:{id:t,title:a,image:n,price:r,rating:l}})}},c.a.createElement("a",null,"Add to Basket")))};a(84),a(85);var y=function(){return c.a.createElement("div",{className:"home"},c.a.createElement("div",{className:"home__container"},c.a.createElement("img",{className:"home__image",src:"https://images-eu.ssl-images-amazon.com/images/G/31/img20/PC/Accessories/GW/PC-acc_june20_DesktopHero_1500x600._CB429195970_.jpg"}),c.a.createElement("div",{className:"home__row"},c.a.createElement(N,{id:"401",title:"HP-15",price:35e3,image:"https://static.toiimg.com/photo/66126276/HP-15-da0074tx-4TT07PA-Laptop-Core-i3-7th-Gen8-GB1-TBDOS2-GB.jpg",rating:5}),c.a.createElement(N,{id:"402",title:"Poco X3",price:15999,image:"https://www.gizmochina.com/wp-content/uploads/2020/09/POCO-X3-renders-1024x698.jpg",rating:4})),c.a.createElement("div",{className:"home__row"},c.a.createElement(N,{id:"404",title:"Galaxy Smart watch",price:2e4,image:"https://s1.poorvikamobile.com/image/data/AAA%20Acc/samsung/New/Samsung%20Galaxy%20Active%202%2044mm%20BT%20Smartwatch/Silver/Samsung-Galaxy-Active-2-44mm-BT-Smartwatch-Silver-5_ios.jpeg",rating:5}),c.a.createElement(N,{id:"405",title:"HeadSet",price:2999,image:"https://assets.croma.com/medias/sys_master/images/images/h4f/hdb/8945015554078/211151_pjpeg.jpg",rating:5}),c.a.createElement(N,{id:"406",title:"Gamming mouse",price:500,image:"https://target.scene7.com/is/image/Target/GUEST_bb4cce99-b936-456e-8433-97d500f03e90?wid=488&hei=488&fmt=pjpeg",rating:5})),c.a.createElement("div",{className:"home__row"},c.a.createElement(N,{id:"407",title:"Odyssey G9",price:115650,image:"https://images-na.ssl-images-amazon.com/images/I/81RcJoVbvDL._AC_SL1500_.jpg",rating:5}),c.a.createElement(N,{id:"403",title:"ipad Pro",price:71e3,image:"https://www.pngitem.com/pimgs/m/175-1757515_apple-ipad-pro-11-hd-png-download.png",rating:5}))))},O=a(4),k=(a(86),a(87),a(26)),S=a.n(k),j=a(34),w=a(18),A=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},C=function(e,t){switch(console.log(t),t.type){case"ADD_TO_BASKET":return Object(w.a)(Object(w.a)({},e),{},{basket:[].concat(Object(j.a)(e.basket),[t.item])});case"REMOVE_FROM_BASKET":var a=e.basket.findIndex((function(e){return e.id===t.id}));console.log(">>>>>",a);var n=Object(j.a)(e.basket);return a>=0?(n.splice(a,1),console.log(">>>>>",n)):console.warn("Cant remove product (id:".concat(t.id,")as its not in basket")),Object(w.a)(Object(w.a)({},e),{},{basket:n});case"SET_USER":return Object(w.a)(Object(w.a)({},e),{},{user:t.user});default:return e}};var T=function(){var e=_(),t=Object(s.a)(e,2),a=t[0].basket,n=(t[1],Object(O.f)());return c.a.createElement("div",{className:"subTotal"},c.a.createElement(S.a,{renderText:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Subtotal (",a.length," items):",c.a.createElement("stong",null,e)),c.a.createElement("small",{className:"subTotal__gift"},c.a.createElement("input",{type:"checkbox"}),"This contain a Gift"))},decimalScale:2,value:A(a),displayType:"text",thousandSeparater:!0,prefix:"\u20b9"}),c.a.createElement("button",{onClick:function(e){return n.push("/payment")}},"Proceed to Checkout"))};a(89);var B=function(e){var t=e.id,a=e.image,n=e.title,r=e.price,l=e.rating,i=_(),m=Object(s.a)(i,2),o=(m[0].basket,m[1]);return c.a.createElement("div",{className:"checkoutproduct"},c.a.createElement("img",{className:"checkoutproduct__image",src:a}),c.a.createElement("div",{className:"checkoutproduct__info"},c.a.createElement("p",{className:"checkoutproduct__title"},n),c.a.createElement("p",{className:"checkoutproduct__price"},c.a.createElement("small",null,"\u20b9"),c.a.createElement("strong",null,r)),c.a.createElement("div",{className:"checkoutproduct__rating"},Array(l).fill().map((function(e,t){return c.a.createElement("p",null,"\u2b50\ufe0f")}))),c.a.createElement("button",{onClick:function(){o({type:"REMOVE_FROM_BASKET",id:t})}},"Remove from Basket")))};var x=function(){var e=_(),t=Object(s.a)(e,2),a=t[0],n=a.basket,r=a.user;return t[1],c.a.createElement("div",{className:"checkout"},c.a.createElement("div",{className:"checkout__left"},c.a.createElement("img",{className:"checkout__ad",src:"https://images-eu.ssl-images-amazon.com/images/G/31/img19/AmazonPay/ScanExplorePay/TopBanner_New_Desktop.jpg",alt:""}),c.a.createElement("div",{className:"checkoutproducts"},c.a.createElement("h3",null,null===r||void 0===r?void 0:r.email),c.a.createElement("h2",{className:"checkout__title"},"Your Shopping Basket"),n.map((function(e){return c.a.createElement(B,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})})))),c.a.createElement("div",{className:"checkout__right"},c.a.createElement(T,null)))};a(90);var P=function(){var e=Object(O.f)(),t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)(""),m=Object(s.a)(i,2),o=m[0],u=m[1];return c.a.createElement("div",{className:"login"},c.a.createElement(d.b,{to:"/"},c.a.createElement("img",{className:"login__logo",src:"https://www.acisolutions.net/wp-content/uploads/2019/09/amazon-logo-vector-png-amazon-logo-vector-512.png"})),c.a.createElement("div",{className:"login__container"},c.a.createElement("h1",null,"Sign-in"),c.a.createElement("form",null,c.a.createElement("h5",null,"Email"),c.a.createElement("input",{type:"text",value:r,onChange:function(e){return l(e.target.value)}}),c.a.createElement("h5",null,"Password"),c.a.createElement("input",{type:"password",value:o,onChange:function(e){return u(e.target.value)}}),c.a.createElement("button",{type:"submit",onClick:function(t){t.preventDefault(),f.signInWithEmailAndPassword(r,o).then((function(t){e.push("/")})).catch((function(e){return alert(e.message)}))},className:"login__signinButton"},"Sign in")),c.a.createElement("p",null,"By signing-in you agree to the AMAZON condition of use & sale. Please see our privacy notice, our Cookies notice and our interest based ads notice."),c.a.createElement("button",{onClick:function(t){t.preventDefault(),f.createUserWithEmailAndPassword(r,o).then((function(t){console.log(t),t&&e.push("/")})).catch((function(e){return alert(e.message)})),alert("Account Created Successfully! You'll get auto login...")},className:"login__resgistrationButtton"},"Create Account")))},G=a(21),D=a.n(G),R=a(33),I=(a(92),a(17)),z=a(52),U=a.n(z);var H=function(){var e=_(),t=Object(s.a)(e,2),a=t[0],r=a.basket,l=a.user,i=(t[1],Object(O.f)()),m=Object(I.useStripe)(),o=Object(I.useElements)(),u=Object(n.useState)(!1),p=Object(s.a)(u,2),E=p[0],g=p[1],h=Object(n.useState)(""),v=Object(s.a)(h,2),f=v[0],b=v[1],N=Object(n.useState)(null),y=Object(s.a)(N,2),k=y[0],j=y[1],w=Object(n.useState)(!0),C=Object(s.a)(w,2),T=C[0],x=C[1],P=Object(n.useState)(!0),G=Object(s.a)(P,2),z=G[0],H=G[1];Object(n.useEffect)((function(){(function(){var e=Object(R.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()({method:"post",url:"/payments/create?total=".concat(100*A(r))});case 2:t=e.sent,H(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]);var K=function(){var e=Object(R.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(!0),e.next=4,m.confirmCardPayment(z,{payment_method:{card:o.getElement(I.CardElement)}}).then((function(e){e.paymentIntent;g(!0),j(null),b(!1),i.replace("/orders")}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"payment"},c.a.createElement("div",{className:"payment__container"},c.a.createElement("h1",null,"Checkout(",c.a.createElement(d.b,{to:"/checkout"},null===r||void 0===r?void 0:r.length,"items"),")"),c.a.createElement("div",{className:"payment__section"},c.a.createElement("div",{className:"payment__title"},c.a.createElement("h3",null,"Delivery Address")),c.a.createElement("div",{className:"payment__address"},c.a.createElement("p",null,null===l||void 0===l?void 0:l.email),c.a.createElement("p",null,"At + Post : This is address"),c.a.createElement("p",null,"Dist : Demo, 82XX10"))),c.a.createElement("div",{className:"payment__section"},c.a.createElement("div",{className:"payment__title"},c.a.createElement("h3",null,"Review items and Delivery")),c.a.createElement("div",{className:"payment__items"},r.map((function(e){return c.a.createElement(B,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})})))),c.a.createElement("div",{className:"payment__section"},c.a.createElement("div",{className:"payment__title"},c.a.createElement("h3",null,"Payment Methods")),c.a.createElement("div",{className:"payment__details"},c.a.createElement("form",{onSubmit:K},c.a.createElement(I.CardElement,{onChange:function(e){x(e.empty),j(e.error?e.error.message:"")}}),c.a.createElement("div",{className:"payment__priceContainer"},c.a.createElement(S.a,{renderText:function(e){return c.a.createElement("h3",null,"Order Total: ",e)},decimalScale:2,value:A(r),displayType:"text",thousandSeparater:!0,prefix:"\u20b9"}),c.a.createElement("button",{disabled:f||T||E},c.a.createElement("span",null,f?c.a.createElement("p",null,"Processing"):"Buy Now"))),k&&c.a.createElement("div",null,k))))))},K=a(53),M=Object(K.a)("pk_test_51HSMmQGyS6WEA0mbRd6JXkpXBaw6UyxyAdnESrWBIEUoItEGwCmGgVCrKUWgDQQW6c2KrZ7SRJK6hHpKdWG2BdMq00zf1VHQDy");var W=function(){var e=_(),t=Object(s.a)(e,2);Object(i.a)(t[0]);var a=t[1];return Object(n.useEffect)((function(){f.onAuthStateChanged((function(e){console.log("THE USER IS>>>>",e),a(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),c.a.createElement(d.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(O.c,null,c.a.createElement(O.a,{path:"/login"},c.a.createElement(P,null)),c.a.createElement(O.a,{path:"/checkout"},c.a.createElement(b,null),c.a.createElement(x,null)),c.a.createElement(O.a,{path:"/payment"},c.a.createElement(b,null),c.a.createElement(I.Elements,{stripe:M},c.a.createElement(H,null))),c.a.createElement(O.a,{path:"/"},c.a.createElement(b,null),c.a.createElement(y,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,{initialState:{basket:[],user:null},reducer:C},c.a.createElement(W,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},55:function(e,t,a){e.exports=a(110)},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.19d4db27.chunk.js.map